# Визуализация графов

Для отрисовки графа на данный момент доступно две утилиты:
скрипт **plot.py** и **Gephi**.
В качестве исходных данных для графа используется [мой профиль](https://vk.com/budnyjj).
Данные для построение графа были отобраны следующим образом:
```bash
./get.py\
  --with-num-followers\           # получаем не только друзей, но и фоллловеров 
  -r 2\                           # уровень рекурсии (человек, его друзья, друзья его друзей)
  -p 4\                           # загрузка в четыре потока
  -w _data/mine.pickle            # сохраняем в формате pickle
  55358627                        # мой VK UID

./process.py\
  --exclude-media-activists\      # исключаем медиа-активистов
  --trim 3\                       # исключаем людей, у которых меньше трех связей в графе
  _data/mine.pickle\              # файл-источник
  _data/mine_trim-3_no-media.gexf # файл-приемник, конвертация в формат GEXF,
                                  # совместимый с Gephi
```

## plot.py

Скрипт [plot.py](https://github.com/budnyjj/vkstat/blob/master/plot.py)
используется для построения небольших графов (**до 500 узлов**).
Для отрисовки графа используется библиотека **matplotlib**.

**Пример использования:**

```bash
./plot.py\
  --no-labels\                    # без имен
  -o doc/pic/plot-py.png\         # сохраняем в png
  _data/mine_trim-3_no-media.gexf # файл-источник
```

**Результат:**

![Граф, отрисованный с помощью plot.py]
(https://github.com/budnyjj/vkstat/blob/master/doc/pic/plot-py.png)

Здесь ярко выражен центр графа -- это мой профиль и относительно отдаленные
друг от друга части графа, которые в действительности соответствуют различным
социальным группам, к которым я принадлежу или принадлежал:
* одноклассники в школе и лицее,
* одногруппники в университете,
* игроки в Что? Где? Когда?
* [группа пользователей Linux](https://vk.com/falanster.linux)

**Легенда:**
* **Цвет узла** характеризует **число дружеских связей внутри графа** --
чем темнее, тем их больше.
* **Размер узла** характеризует **общее число дружеских связей во всей сети** --
чем больше размер узла, тем больше друзей у данного пользователя.
* **Цвет дуги** обозначает **связь данного узла с центральным** --
если дуга красная, то данный узел связан с центром графа прямой связью.

## Gephi

[Gephi](http://gephi.github.io/) представляет собой намного мощное средство
визуализации графов, чем **plot.py**.
Краткий обзор функциональности этой программы
доступен [здесь](http://gephi.github.io/features/).
Для работы Gephi требуется JRE 7.

Для того, чтобы импортировать данные в Gephi,
следует предварительно сконвертировать их в формат GEXF.

**Результат:**

![Граф, построенный в Gephi]
(https://github.com/budnyjj/vkstat/blob/master/doc/pic/gephi.png)
