# VKStat

VKStat -- это набор скриптов, которые выполняют загрузку и обработку
социальных связей из социальной сети [Вконтакте](https://vk.com).
Данные, загружаемые посредством VK API, представляются в виде 
[социального графа]
(https://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B3%D1%80%D0%B0%D1%84):

![Пример социального графа]
(https://github.com/budnyjj/vkstat/blob/master/doc/pic/clusterization.png)

Больше красивых картинок смотри [здесь]
(https://github.com/budnyjj/vkstat/blob/master/doc/RU/plot.md).

## Установка

Чтобы запустить VKStat, нужно сначала **установить зависимости**,
а затем склонировать этот репозиторий.
Проверить работоспособность любого из скриптов можно следующим образом:

```bash
./get.py --help
```

Если запускается без ошибок, значит работает :)

### Зависимости

VKStat написан на **Python 3** со следующими внешними **зависимостями**:

#### Обязательные

* [vkontakte3](https://github.com/budnyjj/vkontakte3) --
VK API для Python 3
* [networkx](https://networkx.github.io/) --
создание и обработка графов

#### Необязательные

* [PyYAML](https://pypi.python.org/pypi/PyYAML) --
чтение/запись графа в формате YAML
* [PrettyTable](https://pypi.python.org/pypi/PrettyTable) --
вывод данных графа в табличном виде (info.py)
* [matplotlib](http://matplotlib.org/) -- визуализация графа средствами Python
(plot.py)
* [Gephi](http://gephi.github.io/) -- визуализация графа средствами Gephi

## Обзор функциональности

В целом, процесс работы с графом можно представить в следующем виде:

```bash
get.py --> process.py ---> info.py
                       |
                       --> plot.py
                (GEXF) |
                       --> Gephi
```

* [get.py](https://github.com/budnyjj/vkstat/blob/master/get.py) --
  используется для получения данных через VK API.
  Вы можете указать **UID-ы нескольких пользователей**
  и установить **уровень рекурсии** (чтобы получать друзей друзей и т.д.). 
  Для ускорения процесса загрузки можно использовать **мультипроцессинг**.

  Загруженный граф может быть сохранен в различных форматах,
  в зависимости от расширения файла-приемника.

* [process.py](https://github.com/budnyjj/vkstat/blob/master/process.py) --
  используется для фильтрации узлов графа по различным признакам,
  а также конвертации графа между различными форматами.

  Этот скрипт удобно использовать для фильтрации малозначимых пользователей,
  а также медиаактивистов, что значительно ускоряет отображение графа.

* [info.py](https://github.com/budnyjj/vkstat/blob/master/info.py) --
  используется для табличного анализа содержимого графа.

  Этот скрипт предоставляет данные графа в виде таблицы, где каждому пользователю
  соответствуют **число друзей в графе**, **общее число друзей**, **число фолловеров**,
  **pagerank**, и т. д.

* [plot.py](https://github.com/budnyjj/vkstat/blob/master/plot.py) --
  используется для отображения графа средствами matplotlib.

  Построенный граф может быть исследован интерактивно или сохранения
  в форматах png или pdf.
  К сожалению, он обладает достаточно низкой производительностью,
  поэтому рекомендуется с его помощью **отображать графы размером не более 500 узлов**,
  предварительно обрабатывая посредством **process.py**.

* [Gephi](http://gephi.github.io/) --
  используется для отображения графа средствами Gephi.
 
  Gephi является более мощным инструментом для визуализации графов, чем plot.py,
  и позволяет **отображать графы размером 2500 узлов** при тех же системных требованиях,
  что и **plot.py**.
  
  Чтобы успешно импортировать граф в Gephi, нужно предварительно
  сконвертировать его в формат GEXF c помощью **process.py**.
